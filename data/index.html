<!DOCTYPE html>
<html charset="UTF-8">
<head>  
    <meta name="viewport" content="width=device-width,height=device-height,initial-scale=1">
    <title>ESP 8266 Login</title>
    <style type="text/css">
        div.autore {
            text-align: right;    
            background: linear-gradient(to right, #c0c0c0 0%,#73172f 100%); 
            color: #fff; 
            padding:10px; 
            vertical-align: middle;
        }        
        form {
            margin: 0 auto;
            width: 400px;
            padding: 1em;
            border: 3px solid rgba(0,0,200,0.6);
            border-radius: 1em;
            box-shadow: 11px 11px 15px rgba(0,0,200,0.4);
            background: rgb(238,174,202);
            background: radial-gradient(circle, rgba(238,174,202,1) 0%, rgba(148,187,233,1) 100%);          
        }        
        h1.intestazione{
            margin: 0 auto;
            text-align: center; 
            font-family: 'helvetica neue', helvetica, sans-serif;
            color: lightgray;
            padding: 10px; 
            border: 3px solid black; 
            background: rgba(0,0,200,0.6);
            transform: translatey(5px);
            stroke: green;
            stroke-width: 2;
        }
        h1.linea {
            padding: 5px; 
            background: linear-gradient(to left, #e0e0e0 0%,#00172f 100%);
            transform: translatey(-15px);
        }       
        body {            
            background-color: lightblue;
            cursor: default;
            font-family: 'helvetica neue', helvetica, sans-serif;
        }
        input.tasto {          
            letter-spacing: 1px;
            text-transform: uppercase;
            text-align: center;
            border: 2px solid rgba(0,0,200,0.6);
            background: lightgray;
            color: rgba(0,0,200,0.6);
            box-shadow: 1px 1px 2px rgba(0,0,200,0.4);
            border-radius: 10px;
            padding: 3px 10px;
            display: inline-block;
            cursor: pointer;
        }
        input.tasto:hover {
            color: green;    
        }
        input.tasto:active {
            position:relative;
	        top: 3px;
        }    
        legend {          
            letter-spacing: 1px;
            text-transform: uppercase;
            text-align: left;
            border: 1px solid gray;
            background: rgb(210,210,210);
            color: rgba(0,0,200,0.6);
            box-shadow: 1px 1px 2px rgba(0,0,200,0.4);
            border-radius: 10px;
            padding: 3px 10px;
            display: inline-block; 
        }             
    </style>    
</head>      
        <body>
        <h1 class="intestazione"  >--- Accesso al sensore umidit&#224; e temperatura ---</h1>
        <h1 class="linea"  ></h1>
        <form action="login" method="POST">
            <fieldset>
                <legend><strong> Login form </strong></legend>
                <br>
                <label for="username">Username :</label><br>
                    <input type="text" id="username" name="username" placeholder="Username" style="color: red; -webkit-appearance: none; appearance: none;" >
                <br>
                <br>
                <label for="password">Password:</label><br>
                    <input type="password" id="password" name="password" placeholder="Password" >
                <br>
                <br> 
                <input id = "btne" type="submit" value="Login &#8629" class="tasto">
            </fieldset>  
            <p style="color: darkgreen; text-align: center;">Try '<em>Heineken</em>' and '<em>password123</em>' ...</p>
            <div class="autore" >
                    <span style="color: #fff333;" >Powered by A. Mirabelli</span>                            
            </div>
        </form>
            <script type="text/javascript">
                const form = document.querySelector('form');
                const userName = document.getElementById('username');
                const passWord = document.getElementById('password');
                const button = document.getElementById('btne');

                //ALERT
            window.alert = function (message) {
                var a = document.createElement('div');
                // aggiungi beep
                let beep = new Audio("https://www.soundjay.com/buttons/sounds/beep-26.mp3");
                beep.play();
                //regole di stile CSS
                a.style.cssText = "cursor: pointer; width:30vw; height:85px; border:1px solid blue; border-radius:5px; padding:10px; background:lightgray; box-shadow:0px 0px 8px #0006; position:fixed; top:20px; right:0; left:0; margin:auto; font-family: \"Arial\", sans-serif; color:black; z-index:1000; box-shadow: 5px 10px 20px 0 rgba(100,100,200,0.8), 0 6px 20px 0 rgba(200,200,200,0.5);transform: translate(0%, 70%);";
                a.innerHTML = "<b>Attenzione</b><br><br>" + message;
                document.body.appendChild(a);
                a.addEventListener("click", function() {
                    a.remove();
                    button.disabled=false; //abilita il tasto
                    button.style.cssText="cursor: pointer;";
                    userName.style.cursor = 'text';
                    passWord.style.cursor = 'text';
                    form.style.filter = 'blur(0px)';
                })
            };

            form.onsubmit = function (e) {
                if (userName.value === '' || passWord.value === '') {
                    e.preventDefault();
                    button.disabled=true; // disabilita il tasto
                    button.style.cssText= "cursor: default;";
                    userName.style.cursor = 'default';
                    passWord.style.cursor = 'default';
                    form.style.filter = 'blur(2px)';
                    alert('Completa i campi username e password. Clicca qui per chiudere');
                }
            };
            </script>
    </body>
</html>